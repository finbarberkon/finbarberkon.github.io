<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>fmb | Reviving the Lenovo S10e</title>

  <!-- Bootstrap core CSS -->
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- Custom styles for this template -->
  <link href="../css/clean-blog.min.css" rel="stylesheet">

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand" href="../">fmb</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="../">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../blog.html">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../projects.html">Projects</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../teaching.html">Teaching</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="../contact.html">Contact</a>
          </li> -->
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Header -->
  <header class="masthead" style="background-image: url('../img/blog/s10e/s10e_flat.jpg')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
            <h1>Reviving the Lenovo S10e</h1>
            <h2 class="subheading">A bios locked laptop that can only be unlocked by a government department that no longer exists</h2>
            <span class="meta">Posted by
              <a href="../blog.html">Finbar Berkon</a>
              on May 16, 2019</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Post Content -->
  <article>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">

          <span class="caption text-muted">A quick preface: I am not promoting or condoning circumventing the terms of use of your device. These laptops were given to students to keep and use however they liked at the end of year 12 as long the students filled some paperwork and brought their laptop into the school during the holidays. I didn't do that, so I never got it unlocked officially, and now the department that could unlock it does not exist. The laptops are not given out anymore, so this guide will not help anyone who doesn't already own the laptop outright.</span>

          <h2 class="section-heading">The Lenovo S10e</h2>

          <p>The S10e is a subnotebook released by Lenovo in 2008. It was the laptop used in a short-lived government program to provide all Australian public school students with a computer which they could use both at home and at school. I was one of the 2009 year 9 cohort which received them.</p>

          <p>I stumbled across this relic again a few months ago and remembered how much I loved the thing. It is virtually indestructible, has a replaceable battery(!!), manages to fit a surprisingly ergonomic keyboard and respectable IO into a very small form factor, and has a bold metallic-flake maroon finish.</p>

          <p>Unfortunately, the computer has one major issue preventing me using it: it has a heavily restricted version of Windows 7 (which does not even boot anymore) installed and a BIOS supervisor password that I do not know.</p>

          <p>With a 1.60 GHz single core Intel Atom CPU and 1GB of RAM, many would argue it is just not worth the hassle. And they would probably be right. But for 4 years this thing withstood daily computer abuse and still stubbornly refused to let me install anything or play any of my favourite flash games. I've got a soft spot, and a lot of respect, for this little laptop. And now perhaps I can give it a new lease on life, and finally get past its stubborn restrictions.</p>

          <h2 class="section-heading">The BIOS problem</h2>

          <p>Booting to the internal hard drive gives the 'Windows failed to start' screen. Safe mode is disabled by the administrators, and the repair tool does nothing. Installing a fresh copy of Windows (or any other OS) would require changing the boot order, which is impossible without access to the BIOS. So, my first approach is to try and remove the BIOS supervisor password.</p>


          The main options I found for doing so are
            <ul>
              <li>resetting the BIOS password with a master password,</li>
              <li>wiping the CMOS memory, or</li>
              <li>re-flashing the BIOS.</li>
            </ul>

          <p>Some manufacturers allow a master password to reset a supervisor password on the BIOS. This master password is obtained by hashing some code to produce the password. Usually, the code is either shown to the user upon three failed password attempts, or is some identifier unique to the computer like its serial number. Once you have it, you can put it through an online master password hashing algorithm to find the password. Unfortunately, three incorrect passwords just temporarily disabled the system, and neither the serial number nor any other number printed on the computer created a valid password. So, no hashed master password that I could find.</p>

          <p>To reset the CMOS memory, one has to locate the CMOS battery and either remove it for 10-15 minutes, or find and short the reset pins, or maybe both depending on your hardware. However, most subnotebooks, and netbooks generally, store the BIOS password on some hidden integrated circuit as an added measure of security for such portable devices. This proved true for the S10e, so no removing the BIOS password via the CMOS.</p>

          <p>Finally, there was the option of re-flashing the BIOS. I was already feeling very out of my depth by this point, and a quick read of Alan Norton's <a href="https://www.techrepublic.com/blog/10-things/10-common-mistakes-you-should-avoid-when-flashing-your-bios/">article</a> (along with a mental tally of each of the little mistakes I'd made so far in this project) was enough to persuade me that I was nowhere near qualified to try this. A single small mistake, and I would have a newly fried motherboard rather than a potentially salvageable computer. I did have a look for viable BIOS firmware, but there were none I was sure enough about. I didn't manage to get rid of the BIOS password, this was as far as I got.</p>

          <p>But in taking apart and reassembling the laptop to remove the CMOS battery, I had noticed what might be a pretty significant flaw in the laptop's thus far formidable security: its hard drive.</p>

          <h2 class="section-heading">The hardware solution</h2>

          <p>The hard drive actually slips out of its enclosure very easily once you find your way past a bit of tape threatening very serious high school trouble if tampered with and a couple of torx security screws. I was pretty worried there would be some kind of check on boot that the hard drive hadn't been swapped out, or even that the OS installation matched some preset value. Without being able to do much about the second problem, I decided to try and install a different OS on the hard drive and see if it would boot.</p>

          <p></p>

          <p>I took the hard drive out, connected it up to my MacBook with a SATA to USB-C adapter, and used <a href="https://www.balena.io/etcher/">balenaEtcher</a> to install a minimal Ubuntu installer image on the drive. I plugged it back into the S10e, and lo and behold, it booted!</p>

          <p>The rest of the installation process was simple, and a bit anticlimactic. After a small problem with Linux partitions, the Lenovo S10e is living its brand new life as a CLI (Command Line Interface) only Ubuntu laptop that I actually spend a silly amount of time on.</p>

          <img class="img-fluid" src="../img/blog/s10e/s10e_finished.jpg" alt="">
          <span class="caption text-muted">Lenovo S10e running CLI Ubuntu.</span>

          <p>After all that, the laptop's strongest security feature was some sticky tape with a few scary words written on it.</p>

          <h2 class="section-heading">Main sources</h2>

          <ul>
            <li><a href="https://superuser.com/questions/840809/reset-supervisor-password-on-lenovo-ideapad-s10e">A superuser forum post on the same topic</a></li>
            <li><a href="http://www.tech-faq.com/reset-bios-password.html">Info about BIOS master passwords</a></li>
            <li><a href="https://bios-pw.org">BIOS hashing algorithm</a></li>
            <li><a href="https://www.biosflash.com/e/bios-cmos-reset.htm">Info about the CMOS battery and memory</a></li>
            <li><a href="http://tim.id.au/laptops/lenovo/ideapad%20s9e%20s10%20s10e.pdf">Lenovo S10e hardware manual</a></li>
            <li><a href="https://www.youtube.com/watch?v=5x1sYtpN0xQ">Dissassembly walkthrough</a></li>
            <li><a href="https://www.techrepublic.com/blog/10-things/10-common-mistakes-you-should-avoid-when-flashing-your-bios/">Info about BIOS flashing</a></li>
          </p>
          <!-- <blockquote class="blockquote">quote</blockquote> -->
          <!-- <span class="caption text-muted">muted</span> -->
        </div>
      </div>
    </div>
  </article>

  <hr>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <p class="copyright text-muted">Copyright &copy; Finbar Berkon 2019</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/clean-blog.min.js"></script>

</body>

</html>
